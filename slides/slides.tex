\documentclass[notes=hide,12pt,xcolor=dvipsnames%,mathserif%,handout
   ]{beamer}
% \PassOptionsToClass{beamer}{handout}
% \usepackage{pgfpages} 
% \pgfpagesuselayout{4 on 1}[letterpaper,landscape,border shrink=3mm]
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{helvet}
%% \usepackage{../nsjom/macros}
\usepackage{../notes/inputs/macros}
\usepackage{comment}
\usepackage{xspace}
\usepackage{pifont}
\usepackage[all,cmtip,arrow]{xy}  %for xy-pic fonts
\usepackage{../notes/inputs/proof-dashed}
\usepackage{animate}
\usepackage[mathscr]{euscript}

%%macs

%For this presentation, I don't want citations
\renewcommand{\cite}[1]{\relax}
\renewcommand{\defn}[1]{\alert{#1}}
\newcommand{\defin}[1]{\alert{#1}}
% \newcommand{\V}{\ensuremath{\mathcal V}\xspace}
% \newcommand{\mbold}[1]{\ensuremath{\mathbf{#1}}\xspace}
% \makecs{\mbold}{ABDP}
\newcommand{\exmpl}[1]{{\color{green!50!black} #1}}
\newcommand{\dsize}{\displaystyle}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Var}{Var}
\newcommand{\bigpause}{\pause\bigskip}
\newcommand{\medpause}{\pause\medskip}

% \newcommand{\reduc}{\leq_{\text{\textnormal{p}}}}
% \newcommand{\equivp}{\equiv_{\text{\textnormal{p}}}}
% \newcommand{\NP}{\ensuremath{\mathbb{NP}}\xspace}
% \renewcommand{\P}{\ensuremath{\mathbb{P}}\xspace}
\newcommand{\Blue}{\textcolor{blue!50!black}}
\newcommand{\Red}{\textcolor{violet!50!red}}
\newcommand{\Green}{\textcolor{green!55!black}}
\let\origemph=\emph 
\let\origtextbf=\textbf 
%%endmacs
%%
\parskip=10pt
%% Beamer Setup
% \mode<handout>{\beamertemplatesolidbackgroundcolor{black!5}}
\mode<presentation>{
  % \usetheme{Singapore}
   % \usetheme{Frankfurt}
   % \usetheme{Pittsburgh}
   \usetheme{Boadilla}
   % \usetheme{lankton-keynote}
   \usecolortheme{beaver}
  % \useinnertheme[shadow]{rounded}
  \setbeamertemplate{navigation symbols}[only frame symbol]{}
}
% \mode<beamer>
% {%
%   \let\emph=\alert}
%   \renewcommand{\textbf}[1]{{\usebeamercolor[fg]{example text}%
%      \origtextbf{#1}}}
% }
\mode<article>{\usepackage{fullpage}}
%%
%\title{\TeX\ and \LaTeX\ in the Mathematics Department}
%\author{Clifford Bergman}

\renewcommand{\phi}{\ensuremath{\varphi}}

\theoremstyle{definition}
%% \newtheorem{defn}[thm]{Definition}
\newtheorem{question}{Question}
 %% \newtheorem{ex}[thm]{Example}

\includeonlyframes{title,defs,diff,diff-remarks,motivation-lit,motivation-heuristics,%
  computational,premature,
  local-diff-term-defs,local-diff-term-res,local-diff-term-cor,champion,algorithm,extensions,f2lem,f2thm,goal,pau}


\begin{document}
\title[Existence of Difference Terms]{On the Complexity of Existence of \\Difference Terms}
\author[\url{williamdemeo@gmail.com}]
       {William DeMeo\\
{\small \url{williamdemeo@gmail.com}}}
%% \\[5pt]{\small joint with}\\
%% {\small   Cliff Bergman and Ralph Freese}}

\date[11 Mar 2017]{AMS Special Session\\[10pt]
11 Mar 2017}

\frame[label=title]{\titlepage}

\setbeamercolor{block body example}%
{parent=normal text,use=block title example,bg=block title example.bg!25!bg}

%====================================================================
\section{Introduction}
\newcommand\oftype{\ensuremath{\mathrel{:}}}
%--------------------------------------------------------------------
\subsection{Preliminaries}
\begin{frame}[shrink=10,label=defs]{Notation and Definitions}
  Let $\bA = \<A, \dots\>$ be an algebra.
  
  A reflexive, symmetric, compatible relation $T\subseteq A^2$ is a
  \defn{tolerance} of $\bA$.  

  For $(\bu, \bv) \in A^m\times A^m$, we write
  $\bu \mathrel{\bT} \bv$ iff $u_i \mathrel{T} v_i$ holds $\forall i$.

  \pause 
  Let
  
  $\Tol(\bA) = $ the set of tolerance relations of $\bA$
  
  $\Con(\bA) = $ the set of congruence relations of $\bA$

  $\Sg^{\bA}(X) = $ the subalgebra of $\bA$ generated by $X \subseteq A$

  $\Cg^{\bA}(X) = $ the congruence of $\bA$ generated by $X \subseteq A\times A$
\end{frame}

\begin{frame}[shrink=10,label=defs]{Notation and Definitions}%
  %% {$S, T$-matrix and centralizer condition}
  Let $S, T \in \Tol(\bA)$

  An \defin{$S,T$-matrix} is an array of the form

  \[
  \begin{bmatrix*}[r] t(\ba,\bu) & t(\ba,\bv)\\ t(\bb,\bu)&t(\bb,\bv)\end{bmatrix*},
  \]
  where $t$, $\ba$, $\bb$, $\bu$, $\bv$ satisfy
  \begin{enumerate}[(i)] %[label=(\roman*)]
  \item $t\in \sansClo_{\ell + m}(\bA)$,
  \item $(\ba, \bb)\in A^\ell\times A^\ell$ and $\ba \mathrel{\bS} \bb$,
  \item $(\bu, \bv)\in A^m\times A^m$ and $\bu \mathrel{\bT} \bv$.
  \end{enumerate}
\pause
  If $\delta \in \Con \bA$ and the entries of every $S,T$-matrix satisfy
  \begin{equation}
    \label{eq:22}
    t(\ba,\bu) \mathrel{\delta} t(\ba,\bv)\quad \iff \quad t(\bb,\bu) \mathrel{\delta} t(\bb,\bv),
  \end{equation}
  then we say ``\defn{$S$ centralizes $T$ modulo $\delta$}'' and we write
  $\CC{S}{T}{\delta}$.
\end{frame}


\begin{frame}[label=defs]{What is the commutator?}
  %% \framesubtitle{the commutator}

  The \defin{commutator of $S$ and $T$} is denoted $[S, T]$ and defined to be
  the least $\delta\in \Con\bA$ such that $\CC{S}{T}{\delta}$ holds.  

  \medpause
  
  Note that $\CC{S}{T}{0_A}$ is equivalent to $[S,T] = 0_A$,
  %% ; this is sometimes called the \defin{$S, T$-term condition}.
  %% When the $S, T$-term condition holds
  and we say\\[4pt] \defn{$S$ centralizes $T$}.

  \medpause
  
  A tolerance (or congruence) $T$ is \defin{abelian} iff $[T, T] = 0_A$.  

  An algebra $\bA$ is \defin{abelian} iff $1_A$ is abelian.
  %% (i.e., $[1_A,1_A] = 0_A$).
\end{frame}

%%%%%%%%%%% Alternative views of the commutator %%%%%%%%%%%%%%%%%%%
%% \input{./inputs/alt-com-slides.tex}


%% \begin{frame}[shrink=5,label=diff]{What is a difference term?}
\begin{frame}[shrink=2,label=diff]{What is a difference term?}
  Let $\bA$ be an algebra.

  $d^{\bA}(x,y,z)$ is a \alert{difference term operation} iff 
  $\forall\, (a,b) \in \theta \in \Con \bA$
  \begin{equation}
    \label{eq:3}  
    a \comr{\theta} d^{\bA}(a,b,b) 
    \quad \text{ and } \quad
    d^{\bA}(a,a,b) = b 
  \end{equation}
  \pause
  Let $\sV$ be a variety. %% \onslide<3>{{\color{gray}(idempotent?)}}

  $d(x,y,z)$ is a \alert{difference term} (dt) for $\sV$ iff
  $d^{\bA}(x,y,z)$ is a difference term operation for every $\bA \in \sV$.

  \pause
  By monotonicity of $[\cdot, \cdot]$ we can replace $\theta$ 
  with $\Cg^{\bA}(a,b)$ in the def.

  \pause 
  If $d^{\bA}(a,a,b) \comr{\theta} b$ instead, $d^{\bA}$ is called a \alert{weak diff term op}.

  \pause
  If $\bA$ is \alert{abelian},
  $[\theta, \theta] = 0_A$ so
  (\ref{eq:3}) holds iff $d^{\bA}$ is Mal'tsev.

  \pause
  If $[\theta, \theta] = \theta$,  then
  $a \comr{\theta} d^{\bA}(a,b,b)$ $\forall (a, b) \in \theta$, so
  $d^{\bA}(x,y,z) = z$ is a dt operation.
  % If for all $a, b \in A$ the relations in (\ref{eq:3}) hold 
  % with $\theta = \Cg^{\bA}(a,b)$, then we call
  % $d^{\bA}$ a \defn{difference term operation} for $\bA$.
\end{frame}



%--------------------------------------------------------------------
\subsection{Motivation}

\begin{frame}[label=motivation-lit]{Motivation}
  %% \framesubtitle{prior art}

  Difference terms are studied extensively in the literature.

\begin{itemize}


\item
  {\footnotesize (1988)
    Hobby and McKenzie, ``The structure of finite algebras,''茆范镦苠蔑铘屙痫蜥蝙歪翳屙狒殂簖苠另弪歪翳语惝荛翦苕镲纛雉弩辁ū构旦隋狎铄蟋噜轴蜷弭殄鏖翳溟骀弪孱沐翦蝽Ё苠十领珏怛猃茆狈俘ǔ┊荛翦苕镲纛雉弩辁ū构订涕痧狎轭楝噜汨狎徙翦蜷狒轱镦鲠蜷弭殄鏖翳溟骀弪孱沐翦蝽Ё苠冕钺洚歪翳迈祆茆彻ǔ┊荛翦苕镲纛雉弩辁ū构俯隋狎铄犷愈孱潋彘噜澡蝈灬糸镱箬轲忮赭邋赭泔眄豸狒矧蟋Ё苠深翦蝾狒十领珏怛蔑眇豸茆庚ù┊ゥ荛翦ゥ苕镲纛雉弩辁ú氨畅ゥ隋狎铄犷碎篌噜澡箬狃镦泔铉蝓孱沐灬趑殂弩Ёゥ苠湾懋另弪歪翳语惝茆膊昌ū按订荛翦苕镲纛雉弩辁ú氨穿轴戾蜷雉犷组祆狎洮噜射屙痫翦铘ゎ疱蝽豸徕戾鲠蜷弭殄蟋Ё苠迈祆田钿歪翳语惝茆炊ù┊荛翦苕镲纛雉弩辁ú氨订隋狎铄蟋愈孱潋彘犷组祆狎洮噜骈铋翦忉箝翳屣蝈骘溟骀弪孱沐翦蝽鲠蜷弭殄鏖翳骈铋翦蝈箝漉犰怙躅洮Ё苠则犷螽另弪歪翳语惝茆扯庚ǔ┊荛翦苕镲纛雉弩辁ú氨珐隋狎铄蟋愈孱潋彘犷组祆狎洮噜娱眇戾磲祠箦泔钿轸轱铙骘麇犭溟骀弪孱沐翦蝽轭祜汜祆骈铋翦鲠蜷弭殄蟋Ё麸狃疱狎苠钿轸屙辁妪苠钿骝犴妪茆彗轭骝犴妪垤徕屐巾雉轹狒轱瞽桢躜轶糸泱蓰惋糸鲠糸镱ゥ苕蜥礤篚怍轸戾儒躜轶糸泱ゥ祟秣轭鲠蜷弭栳溟骀弪孱沐翦蝽犰祜黧躞麸溴漉沐躞彐蹯ゥ痱镳弪糸弩镦翳犰珏怛狍轭翳狒鲠蜷弭绎蹒桁箴遽腴铉栳鲩铉溟骀弪孱沐翦蝽轶箪殓梏禊篝蝻铉弪翳犷栳鲩铉葬祜翦蝽犷箪殓梏禊麇犭弪翳犷栳鲩铉歪歆趔弼翦蝽苒荇屮酐漪荞踽芤殓梏狎蝻荞踽荇屮酐麇犭漪荞踽芤殓梏狎蝻荞踽荇屮酐葬祜翦蝽茌骑骈铋翦ぼ饬がぼ忖吱茆俩栳麇犭漪殒ぼ忖吱茆俩栳葬祜翦蝽ゥ茱铙扉溴疾钧茔镬矧珧狴祜汜祆骈铋翦咯苠钿骝犴妪キ荏踱箦泗轱铥歪轭序镡戾砗溴汩溴麒弭桢溟骀弪孱沐翦蝽屮轶酏茆彗轭骝犴妪垤徕屐姐镯瘐翎糸镱犰蓰蔑眇豸狒轱钺腻汩箝镱序镡戾睚茆彗轭聃弩糸镱郾莒徕屐痱镡翰审翳弪痫禊铒黹犰糸礤犰顼蜷翳翳狒翎脲骈铋翦殇屙痫翦铘犰珏怛ぼ饬狍轭瘐犷溴汩溴麒弭桢ぼ饬栳溟骀弪孱沐翦蝽镳弪狒轱羁苠钿聃弩糸镱莛狨箦茆彗轭聃弩糸镱鄄莒徕屐痱镡罕审翳弪痫禊铒黹犰糸礤犰顼蜷翳翳狒翎脲骈铋翦殇屙痫翦铘犰珏怛ぼ饬狍轭瘐犷溴汩溴麒弭桢翳鲠蜷弭珏铄蜥翦怡ぼ饬栳溟骀弪孱沐翦蝽苠钿聃弩糸镱苠钿骝犴妪茆彗轭骝犴妪垤徕屐金蝈磲趱蝈蓰茆彗轭沐铘弪噜犷篦弪邃氧弩糸镱病Ёゥ茚铋磲翦珧狃栝泱垤镲瓞泔铘蝻祗鏖漪杞点磔辈复阜备侗褒贝过茚铋磲翦珧狃栝泱垤镲瓞泔铘蝻祗鏖漪杞点磔辈肘陡令虔肘陡令颦褒彻莛狨箦莛栳铘镯刎刎刎刎刎佚铒蝈犰禊苠钿沐铘弪苠钿骝犴妪茆彗轭骝犴妪垤徕屐金蝈磲趱蝈蓰茆彗轭沐铘弪茚铋磲翦珧狃栝泱垤镲瓞泔铘蝻祗鏖漪杞点磔辈复阜备侗褒贝过ゥ茚铋磲翦珧狃栝泱垤镲瓞泔铘蝻祗鏖漪杞点磔辈肘陡令虔肘陡令颦褒彻莛狨箦苠钿沐铘弪苠钿骝犴妪ゥ茆彗轭骝犴妪垤徕屐姐栳眇轱钶描犴痖镱ゥ苠钿骝犴妪ソ浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇荏邈糸镱田汜拈骀弪孱沐藻蝽簖荏踱箦泗轱铥序屐轫轭狎殄簖茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽溴骟箬蜷铍降蓰田汜拈骀弪孱沐藻蝽簖ゥ苕蜥礤篚怍轸戾痱屐轫轭狎殄饼深茔轸妍鸵巢彻恫待彤轴戾蜷雉犷耶组祆狎洮射屙痫翦铘ゎ疱蝽豸徕戾鲠蜷弭殄蟋苠迈祆田钿歪翳语惝茆炊ùú氨穿阜碍父爱轴戾蜷雉犷组祆狎蝈沐铘禊溴骈铄ゥ犷茕彐铥ぼ饬き趄轲戾骘ぼ怵ゥ麸忮趄轲戾え岈猬椹篚汨翳狒め荛沥犷ゥゐ唛ㄡ猬猢疬楂饼ㄡ岈猢ぎ澡妁躞翳轶麸溴骈铄噜祜汜柔珏磲铑烷趔汨脲箦聃孱沐Ё翳狒翳妁躞骘彐骈汩孱綮溴汩溟铉骘玳鲥ゎ麒弭桢犷殇屙痫翦铘鲠蜷弭轶ゎき疱蝽豸徕戾茆殓箅轲族溴鲩箦箝黹灬溴鲩沐麇汜祆苠眇棼茚戾螋祜汜溟骀弪孱沐翦蝽戾徜轭麸痫禊铒黹犰糸礤犰顼蜷翳骘溴汩溟铉麒弭桢玳鲥骈铋翦殇屙痫翦铘犰珏怛栳溟骀弪孱沐翦蝽镳弪狒轱町苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽溴骟箬蜷铍蓰物翎糸镱ゥ苕蜥礤篚怍轸戾痱屐轫轭狎殄昌涉ぼ翳弭幛轶麸戾蜥钽矧泔铉蝓孱沐镦ぼ饬が麇徕怛弼獒翦芴狎珏苒苊镯荇桢翎圮翳弭岈荇桢翎茌荟骈祆茱铙扉溴疾钧娱黹灬麸翳篝犷溽蜾铒翎糸镱骘轸弪狒邃泔眄豸狒矧苒圮翳弭彷薨荇桢翎荞踽圮翳弭彷薇圮翳弭岈荇桢翎莠荞踽圮翳弭彷薏茆殓燠圮翳弭岈荇桢翎莠圮翳弭岈荇桢翎蒈忾珧莠芑茕雉芑茌苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽溴骟箬蜷铍蓰田汜拈骀弪孱沐藻蝽簖ゥ苕蜥礤篚怍轸戾溴骈铋糸镱体ぼ饬杰连茕雉筌兢忮犷犰珏怛岙崎め荛沥犷ら荛茺艾避ぎ茕彐铥祜汜溟骀弪孱沐翦蝽骘え岈猬椹轶翦蝽や─筢糸箧轭茆彗轭犰殓铨ゥ荇屮酐殒ら桨が翳孱茔镯睇苊甾茆笼ㄡ猢苊甾茆笼ㄡ猢洙岈猬猢莒徕屐羼轰殒姝趄轲戾苘荇屮酐殒ら桨が芑芑苊镯螓苊绋岈猢洙岈猬猢莒徕屐羼轰殒姝趄轲戾饼苘荇屮酐殒ら奖が芑荑箅轲便洙岈岈猢猱莒徕屐羼轰殒姝趄轲戾昌苠钿犰殓铨茆殓疳躞涉や筢糸箧殄簋ㄜ蝈纣羼轰殒姝趄轲戾饼犷濑ㄜ蝈纣羼轰殒姝趄轲戾昌骘犰趄轲戾轭箫礤篚怏弭び荏踱箦翦荇轫弩荇轫弩茺艾避が翳孱や─轶茕彐铥祜汜溟骀弪孱沐翦蝽骘び苠钿骝犴妪荏踱箦泗轱铥崎蝮义篚祠茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽蝈筝祜汜ぼ戾徜篝铯珈镡犰磲玳泯崎蝮义篚祠ゥ苕蜥礤篚怍轸戾骈蝮蝈篚祠体ぼ笥荇轫弩荇轫弩茺艾避犷篚痧矬弼弪疳轵えㄡ甙膺艾茔栝甙┈ㄡ弑膺爆茔栝弑┅轭ぼ笥薏栳祜汜漪茼邃箅轲澡狒轶骘遽汨えㄡ甙膺艾茔栝甙┈ㄡ弑膺爆茔栝弑┅翳弪轶や─篚汨翳狒骘遽汨ら荛茺艾避茆彗轭犰殓瞠徇苊镯螓苊绋徇楝膺椹洙徇楝膺楝膺椹芑荇屮酐殒ぼ汨檫榻挨积苘莒徕屐羼轰趄轲楸苘洙徇楝徇楝膺椹解唛芑荇屮酐殒ぼ汨檫榻堡ボ灬忮禧羼轰趄轲椴ボ苘铒铛礅弪苠钿犰殓瞠茼邃疳躞澡孱弼弪篚怏弭び荏踱箦翦荏婴栳祜汜溟骀弪孱沐翦蝽荟箅轲表澡狒轶翳弪轶箝铉戾翦蝽や翳狒黠螂骘犰え徇楝膺楝茔栝唛荛婴苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽蝈筝崎蝮义篚祠ゥ苕蜥礤篚怍轸戾骈蝮蝈篚祠ゥ荏踱箦泗轱铥歪轭义篚祠簖茆彗轭翳屣蝈睚ホ莛蝻翦泗荏磲祆漠舶倍莒徕屐翳砗祜汜飙溟骀翦蝽簖体ぼ笾忮犷殇屙痫翦铘鲠蜷弭犷ぼ饬荛荏证腻骈铄ぼ笥荇轫弩荇轫弩茺艾避犷篚痧矬翳狒弼弪疳轵えㄡ甙膺艾茔栝甙┈ㄡ弑膺爆茔栝弑┅荛荏愚菠栳祜汜溟骀弪孱沐翦蝽苘澡孱弼弪篚怏弭び荏踱箦翦荏婴栳祜汜溟骀弪孱沐翦蝽苠钿翳屣蝈睚苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽泔蜉语礤蔑蝻祆狎殄簖ゥ苕蜥礤篚怍轸戾泔蝻祆狎殄簖茆彗轭泔蝻祆狎莒徕屐泔蚝祜悱溟骀翦蝽骈铋翦殇屙痫翦铘犰珏怛ぼ饬栳溟骀弪孱沐翦蝽镳弪狒轱殒犷镱禊殒遽汨疳轵えㄡ猬椹ㄡК猝椐┅荛淋糸礤荇轫弩茺艾避┺菠栳祜汜溟骀弪孱沐翦蝽苠钿泔蝻祆狎茴雉妍项溟蝈泗轱轶沆遽颥箝钽溟骀弪孱沐翦蝽镳弪狒轱骘ぼ饬轶镡鲩秕箪祜汜溟骀弪孱沐翦蝽骘翳麒镬箦ち荇轫弩荇轫弩茺艾避ぎ骑翳泔铞弪箦篚痧矬遽汨疳轵轭え淋糸礤荇轫弩茺艾避┺菠栳祜汜溟骀弪孱沐翦蝽澡孱怡澡屣蝈睨茯彐翳砗祜汜飙溟骀翦蝽簖翳弪轶箝铉戾祜汜溟骀弪孱沐翦蝽骘翳麒镬箦ち荇轫弩荇轫弩茺艾避が犷翳轶轶溟骀弪孱沐翦蝽镳弪狒轱骘ぼ饬ぎ深溴邃殒や轶祜汜溟骀弪孱沐翦蝽骘ち荇轫弩荇轫弩茺艾避が翳孱骘犰め荛沥麇栳鲥め苊镯螓苊绋岈猢洙岈猬猢が箝钽や轶祜汜溟骀弪孱沐翦蝽骘え岈猬癌が犷麇栳鲥やㄡ岈猢猡箝钽や轶犰箫祜汜溟骀弪孱沐翦蝽骘え岈猬暴ぎ莛狨箦茆彗轭泔蝻祆狎莒徕屐泔蚝犰顼颦饼澡弪轶痫禊铒黹犰糸礤犰顼蜷翳翳狒翎脲狍轭瘐骈铋翦殇屙痫翦铘犰珏怛ぼ饬犷溴汩溴麒弭桢ゥ翳鲠蜷弭ぼ忖吱茆俩翳狒轸珏铄蜥翦ぼ饬栳溟骀弪孱沐翦蝽镳弪狒轱町苠钿泔蝻祆狎苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽蝈筝澡屣蝈痱镲箅弭汨ゥ苕蜥礤篚怍轸戾骈蝮蝈篚祠ゥ荏踱箦泗轱铥歪轭义篚祠簖ゥ茆彗轭翳屣蝈睚郾ホ莛蝻翦泗荏磲祆漠舶倍ゥ莒徕屐翳砗祜汜飙溟骀翦蝽簖ゥ体ぼ笥荇轫弩荇轫弩茺艾避ゥ犷篚痧矬遽汨ゥえㄡ甙膺艾茔栝甙┈ㄡ弑膺爆茔栝弑┅荛荏愚菠ゥ栳祜汜漪ゥ澡孱弼弪び荏踱箦翦荏婴ゥ栳祜汜漪ゥ苠钿翳屣蝈睚ゥ茆彗轭痱镲纨垠脲翥栎蛮轭漉泗轱镱翳箝镦びぎ深汜箦狱菠翳沆衢栾熹怡狍篚眇糸镱馏篚礤弼弪篚怏弭镦ぼ笥镦箝げ莒羼莒羼瞍栳祜汜漪体び茺ㄡ甙膺艾茔栝甙┈ㄡ弑膺爆茔栝弑┈茕雉蟋ㄡ啕铨膺铨茔栝啕铨┸荏踱箦翦荏婴族痱秭び栳祜汜溟骀弪孱沐翦蝽莛狨箦嘴镧狍篚礤ぼ汨檫茔栝唛骘箫礤ら景ぎゥ娱钽狱茜羼长犷ぼ汨檫荛茺艾避骘犰らがゥぼ屮轶趔檐铄辘篚汨翳狒ゥ馏篚礤黛镧り桨ぎ腻骈铄び荏弭黹铛茺ㄡ甙膺艾茔栝甙┸犷戾ゐ忮祜汜漪骘びГゥ缨狱が箫びГ栳祜汜漪翦蝽筢ゐぎ苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽蝈筝序镲ㄣ镱糸铛邃荃钿弪扉铄冕箦ぼ汨檫挨嘴镧狍篚礤ぼ汨檫茔滹趔杰汨檫堡犷ぼ汨檫氆饼茔滹趔茔栝啕铨挨腻骈铄ぴ茺ㄡ甙皎徇艾膺艾膺癌癌ㄡ弑膺爆暴茕雉蟋ㄡ唠膺氍暴荦ぎ娱钽渣狱がぴ栳祜汜溟骀弪孱沐翦蝽筢簸腻骈铄や舁皎┈皎┅ぎ澡孱や轶祜汜溟骀弪孱沐翦蝽骘びぎ茴雉妍娱钽ぼ汨檫桨が麇骈蝮鲥蜷纟翳狒え徇艾洙徇艾膺艾膺癌─忮祜铉麸ぼ蔑睇苊绋徇艾膺癌ぎ深溴邃茆彗轭羼踽糸镱莒徕屐羼罕鞍鞍褒洙徇艾膺艾膺癌舁徇艾皎徇艾膺艾膺癌皎徇艾膺艾膺癌┸蔑眚苊绋徇艾皎徇艾膺艾膺癌徇爱苠钿羼踽糸镱物翦翳狒翳疳轵え徇艾皎徇艾膺艾膺癌─轶羼踽麸え皎徇艾徇艾徇癌皎徇艾膺艾膺癌─ㄢ殇屙痫翦钽濠犷忮祜铉麸ぼ苗ㄡ甙膺癌が箫ぼ苗ㄡ甙皎徇艾膺艾膺癌┸戾苊绋徇艾膺癌ぎ澡弪彐矧瀣ゥ箫ぼ翎踯戾苊绋徇艾膺癌ぎ澡弪彐矧瀣怡盹铒麸铋汩豉镦翳泔眄豸狒矧麇栳鲥ぼ蔑睇苊绋徇艾皎徇艾膺艾膺癌莒羼苊镯苊绋徇艾膺癌ぎ婶骘祆秣骝镯翳轶犷ㄜ蝈纣羼罕鞍鞍褒翳狒ゥやㄡ甙膺艾膺癌茔镯睇苊绋徇艾膺癌苊绋徇艾膺癌徇挨やㄡ甙膺艾膺癌苊镯螓苊绋徇艾膺癌徇挨狍溴箝蝈洚骑翳轭溟沐け莒羼莒羼毪麇栳鲥ぼ汨檫奖が箫麇痱秭やㄡ唛徇楝膺椹膺椁骘篚汨轭溟沐螽镶箦蝣瀣苒洙徇楝徇楝膺椹舁徇楝皎徇楝徇楝徇椹皎徇楝徇楝膺椹莒徕屐羼翰鞍鞍褒苘紧ㄡ唛徇楝膺椹莒徕屐羼翰鞍鞍饼苘解唛莒徕屐羼翰鞍鞍昌茌澡骈蝮羼踽糸镱栾熹怡溴骈铋糸镱镦やが翳箦泔钿忮汜躞ゐ轶犷殇屙痫翦铘祜汜溟骀弪孱沐翦蝽骘びГ犷翳翳轵忮汜躞簸轶祜汜溟骀弪孱沐翦蝽骘ぴぎ澡蝈磲轭轭趄轲戾轭秕矧殓轭犰箦び栳鲥轭溟沐筢糸箧轭る缄莒羼瞍犷ぼ汨檫挨澡躞骘翳弩趄轲戾麇麽铘やㄡ哧膺戡膺戛苊镯螓苊绋徇戡膺戛徇辘蛮溴骈铋糸镱茆彗轭羼踽糸镱莒徕屐羼捍蛋鞍褒洙徇戡膺戡膺戛紧ㄡ哧皎徇戡膺戡膺戛皎徇戡膺戡膺戛┊苠钿羼踽糸镱娱钽ゐ轶祜汜溟骀弪孱沐翦蝽骘びГ麇栳鲥翳疳轵え皎徇戡膺戡膺戛徇戛忮祜铉麸ほ苊绋徇戡膺戛苊绋徇戡膺戛荬ゥえ皎徇戡膺戡膺戛徇戛荛圮苗ㄡ哧膺戛苊绋徇戡膺戛荬澡轶犷ㄜ蝈纣羼捍蛋鞍褒轫痨翳狒え洙徇戡膺戡膺戛舁徇戡徇戡徇戛─忮祜铉麸ぼ蔑睇苊绋徇戡膺戛ぎ崎钺祆怡殇屙痫翦钽镦簸麇栳鲥やㄡ哧膺戡膺戛苊镯螓苊绋徇戡膺戛徇辘狍溴箝蝈洚苠钿骝犴妪茆彗轭骝犴妪垤徕屐届镢犰溟骀翦蝽蝈筝序镲ㄣ镱糸铛邃荃钿弪扉铄冕箦ぼ汨檫堡嘴镧狍篚礤ぼ汨檫茔滹趔杰汨檫挨犷ぼ汨檫氆饼茔滹趔茔栝啕铨堡腻骈铄ぴ茺皎徇艾徇艾膺癌膺艾暴ㄡ弑膺爆癌茕雉蟋ㄡ唠膺氍癌荦体簸忮祜汜溟骀弪孱沐翦蝽骘ぴぎゥ苒洙舁皎┈皎┈┊茌腻骈铄や舁皎┈皎┈─澡孱や轶祜汜溟骀弪孱沐翦蝽骘びぎ茴雉妍娱钽ぼ汨檫奖が麽铘やㄡ甙徇艾膺癌膺挨蛮溴骈铋糸镱镦やがやㄡ甙徇艾膺癌舁皎徇艾徇艾膺癌皎徇艾徇艾膺癌膺癌解甙ぎ澡灬篝羼踽扉豉栾熹箝钽簸轶祜汜溟骀弪孱沐翦蝽骘ぴが翳躞骘え皎徇艾徇艾膺癌膺艾暴ぎ涉け莒羼莒羼毪翳孱ぼ汨檫桨が箫骘翳弩轭溟沐麇痱秭え徇楝洙徇楝膺楝膺椹─忮祜铉麸ぼ蔑睇苊绋徇楝膺椹ぎ蛮溴骈铋糸镱镦や犷殇屙痫翦钽镦ゐが茆彗轭羼踽糸镱莒徕屐羼捍鞍鞍洙徇楝膺楝膺椹舁皎徇楝膺楝膺椹皎膺楝膺楝膺椹膺椹舁皎徇楝膺楝膺椹膺楝膺椹苠钿羼踽糸镱娱钽ゐ轶祜汜溟骀弪孱沐翦蝽骘びГ茆彗轭羼踽糸镱莒徕屐羼旱鞍鞍舁皎徇楝膺楝膺椹膺楝膺椹苊镯螓苊绋徇楝膺椹舁徇楝膺楝膺椹苠钿羼踽糸镱娱钽簸轶祜汜溟骀弪孱沐翦蝽骘ぴが桢钽骘え徇楝膺楝膺椹が苒舁徇楝膺楝膺椹苊镯螓苊绋徇楝膺椹徇楫茌澡轶痨躞ㄜ蝈纣羼捍鞍鞍犷ㄜ蝈纣羼旱鞍鞍殄熹やㄡ唛膺楝膺椹苊镯螓苊绋徇楝膺椹徇椁狍溴箝蝈洚澡蝈磲轭轭屐屙孱趔镦び栳鲥轭溟沐り爰贶戾瞍犷ぼ汨檫堡骑翳弩麇麽铘やㄡ哧徇戡膺戛膺辘娱钽ゐ轶祜汜溟骀弪孱沐翦蝽骘びГ麇栳鲥ゐㄡ哧徇戡膺戛膺辘箫怡殇屙痫翦钽镦簸苒洙徇戡徇戡膺戛舁皎徇戡徇戡膺戛皎徇戡徇戡膺戛膺戛舁膺戡膺戡膺戛解哧茌苠钿骝犴妪ゥ茴鬻泔眄犷滠睐翎恹莛栳铘镯刎刎荏踱箦泗轱铥领顼蜷翳睚莒徕屐箦愫犰顼颦饼茆彗轭骝犴妪垤徕屐结扃矧轸桧蓰脑领顼蜷翳睚茆深瘐艉骈铋翦殇屙痫翦铘犰珏怛ぼ饬茆硝麴豸糊噜弩Ё殒ぼ饬栳溟骀弪孱沐翦蝽镳弪狒轱莛狨箦蛮翳翳屣蝈轸篚骀殂弩麸溴汩溴麒弭桢遽汨疳轵えㄡ猬椹ㄡК猝椐┅ゥ荛淋糸礤荇轫弩茺艾避┺菠栳轸秣祜汜溟骀弪孱沐翦蝽莛狨箦ゥ骑遽汨えㄡ猬椹ㄡК猝椐┅轭え淋糸礤荇轫弩茺艾避┺菠涉ら椐挨翳骈蝮痱镪邈糸镱轶祜汜漪涉ら椐堡翳翳轵痱镪邈糸镱轶祜汜漪涉ら挨らЫ堡翳孱ゥえㄡ猬椹ㄡК猝椐┅è岈猬癌ㄡК猝暴─翳孱ゥら堡犷らЫ挨娱钽翳弩狎泔眇戾翦禊簌眄弭蜷悻麇镱禊栳钿戾翳骈蝮汜箦簸轶祜汜漪骘えㄡ猬癌ㄡК猝暴─殒苒彳蔑眚苊绋岈猢艮茆笼ㄡ猬猢芑荇屮酐犷芑艮茆笼ㄡК岌猝猝茌荑骈祆芴狎珏ぼ蜷玷趔聃殓狎蝻鳏苠钿骝犴妪茆彗轭骝犴妪垤徕屐结扃矧轸桧蓰脑领顼蜷翳ㄣ镱舂娱钽艮茆淋糸礤茆笼è岈岌┈ㄢ岌┈ㄢ猝┅艮茆笼ㄡ猬猢艮茆笼ㄡК岌猝┅が簸轶祜汜漪骘えㄡ猬癌ㄡК猝暴─殒苒艮茆淋糸礤茆笼è岈岌┈ㄢ岌┈ㄢ猝┅荛茆殓歙岑苊镯苊绋岈猢茆殓颟荇轫弩茺猝荦茌ゥ麒弪ぼ溴祠苊镯苊绋岈猢犷め茕屐翎溴铒翦翳ゥぼ溴祠幛沆狍泔铘衢铋铉めぎ茴雉妍蛮殇屙痫翦钽ぼ忾珈ㄡ苊镯苊绋岈猢茆殓颟荇轫弩茺猝荦轶篚忉扃邂蜥镦ぼ饬荇轫弩茆沥语えㄡ猬癌ㄡК猝暴─栳祜汜漪殒翳轭翦蝮邈糸镱苒苡甾茆赁昌茺ㄡ岌┈ㄢ岌┈ㄢ猝┸茆殓汜茆殓歙岑苊镯苊绋岈猢茆殓颟荇轫弩茺猝荦茌轶铒铘蜷鲩犰苠钿骝犴妪茆彗轭骝犴妪垤徕屐结扃矧轸桧蓰脑领顼蜷翳ㄣ镱舂骑遽汨えㄡ岌┈ㄢ岌┈ㄢ猝┅轭え淋糸礤俩蕹ず泔眇豸ぼ溴祠苊镯苊绋岈猢泔眇豸び杰隅摞茆赁昌茺ㄡ岌┈ㄢ岌┈ㄢ猝┸翦篝麒弭桢び茔狃ㄡ茕屐翎荇轫弩茺猝荦─轶屙痿涉狒箫礤痫轭麇孱泔躅翦犷屙痿轭翦蝮邈糸镱栳祠ぼ饬栳铒漪镳弪狒轱町萧桢蝼轶ぼ饬栳漪镳弪狒轱町茴雉妍惋篝镦翳镳弪狒轱铙汜蝌殄秕怡翳轶犰顼蜷翳狎麇祆腩秣麸忮痫禊铒黹犰糸礤骑屮犴痨瀣翳狒翳蝓铑轭糸礤镦篚忉扃邂蜥珏铄蜥糸镱轶痫禊铒黹犰栳忮孱腩秣骘祜铉糸礤箦妣茔轸妍鸵按档荡除┊澡糸礤泔眇戾轸镦泔铉蝓孱沐珏铄蜥糸镱轶犰箫腩秣麸忮痫禊铒黹犰箦妣茔轸妍鸵泊钒蹈谍┊澡镱禊镳弪狒轱麒矬趄徙翎忾扉豉黹玷忮汜祆邃轭麸聃弩糸镱轶翳泔眄豸狒矧怩麇栳鲥篝蜥殓梏骘蝼狎犰顼蜷翳骘泔眇豸轭轸翳狒麇溴筱蜷忮轭溴翎殪轭琉疱钿轼渝泗轱铪茯彐箦愫轭翦蜢蹁搴犷遽簌苠钿骝犴妪ソ浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇荏邈糸镱清铄蜥扉狒轱铙犷砒翦铙轱铙ゥ荛铕豸轭瘐趔黹祜悱溟骀翦蝽螽翦ゥ闻优迷上荏踱箦泗轱铥烷邃祜汜溟骀弪孱沐翦蝽簖莒徕屐箦愫黹邃祜汜飙溟骀茆彗轭骝犴妪垤徕屐藉翦铙轱铙蓰砒翦钿轭翳祜汜翦蝽殇遽茴雉妍序镲骟镦翳弩蝈篚祠滹铒溴疱钿镱泔铙殇弪轭镱禊箝铉戾犰珏怛岙体ぼ笾忮鲠蜷弭体ぼ饬甙犷ぼ饬弑忮犰珏怛狍轭ぼ笾ぎゥ令屐屙孱镦ぼ饬甙茆吝堡轶ぼ坚檐兢ゥ麒弪ら荛茺艾避犷め荛吝椁ゥぼ泔痱镤啕榻褒薇ㄜ饬唛荇轫弩茆吝椹栳屐屙孱趔ち甙薏吝鞭菠栳屐屙孱趔ぼ绩岈猢檐兢麒弪ら荛茺艾避犷え岈猢荛吝檗菠え吝稗吝鞭博荇轫弩茺艾避栳屐屙孱趔え芗ㄡ猢檐粳茔栝─麒弪苒檐轭茺艾避荞聃徜ㄡ猢荛吝檗荞聃徜茔栝荛茺艾避茌崎え芗ㄡ猢檐粳茔栝─犷え芗ㄡК猝┈椐芫茔栝З轭え吝稗吝鞭博荇轫弩茺艾避ぎ黹邃茕彐铥祜汜溟骀弪孱沐翦蝽骘翳轶疳轵轶翦蝽や筢糸箧轭茆彗轭犰殓瞠荇屮酐殒ぼ汨榻挨荞踽苊镯螓苊甾茆吝辇ㄡ猢滢茆吝辇ㄡ猬猢卉ゥ莒徕屐羼喉轼邃溟骀趄轲戾苘荇屮酐殒ぼ汨榻堡荞踽滢茆吝辇ㄡ岈猢猬苠钿犰殓瞠犷箝黹灬蜢骘めГもГらГぼ汨椐ぎ苠钿骝犴妪茆彗轭骝犴妪垤徕屐藉翦铙轱铙蓰砒翦铙轱铙ㄣ镱糸铛邃体び忮箦聃孱沐镦趄轲戾潋狩骝镯翳箦苒荏吝稗吝鞭博荇轫弩茺艾避茌冕祆や茕彐轭祜汜溟骀弪孱沐翦蝽骘び殒や轶祜汜漪骘犰趄轲戾轭びぎゥ族磲躞ぼ笳麸溴铒翦翳箦ぼ笳吝艾吝暴麒孱翳泔铘屮蝈钿弪翳ゥ躅轹弪箦轭鲲祧邃镡鲩秕矧轫磲翦蜷犰吁痧矬犰疳轵轭ぼ笳栳鲥祜汜溟骀弪孱沐翦蝽螽澡孱骘弼弪ゎゥ犷弼弪箦聃孱沐び荛荏辙瞍翳弪轶翦蝽や翳狒轶黹邃祜汜ゥ溟骀弪孱沐翦蝽骘びぎ弼弪箦聃孱沐び荛荏辙瞍栳黹邃祜汜漪澡狒轶翳弪轶箝铉戾翦蝽翳狒黠螂骘犰え芗ㄡ猢檐粳茔栝─轭びぎ苠钿骝犴妪茆彗轭骝犴妪垤徕屐藉翦铙轱铙蓰

  %% From now on we drop the ``mixed'' qualifier since
  %% it is inconsequential.

  \begin{theorem} %[\protect{cf.\cite[Theorem 2.2]{MR3239624}}]
  \label{thm:mixed-local-diff-terms}
  $\bA_0$ and   $\bA_1$ be finite algebras in an idempotent variety $\sV$.
  Define $\sU  = (A_0^2 + A_1^2)\times \{0,1\}$
  and suppose every 
  $((\<(a, b), i\>, \chi), (\<(a', b'), i'\>\chi')) \in \sU^2$
  has a local difference term.
  Then $\forall n$ every $S \in \sU^n$
  has a local difference term.
  \end{theorem}

  \pause

  \begin{corollary}
  \label{cor:mix-loc-diff-term}
  Let $\bA_0 = \<A_0, \dots\>$ and   $\bA_1 = \<A_1, \dots\>$ be 
  finite idempotent algebras.
  %% Define
  %% $\sU  = (A_0^2 + A_1^2)\times \{0,1\}$
  %% and 
  Suppose every pair
  $((\<(a, b), i\>, \chi), (\<(a', b'), i'\>\chi'))$
  in $(A_0^2 + A_1^2)\times \{0,1\}$
  has a local dt. Then, there is a term $d$ that interprets as a
  difference term operation for both $\bA_0$ and $\bA_1$.
  \end{corollary}
\end{frame}

\begin{frame}[label=extensions]{Extensions (continued)}
  Let $\sV$ be a variety, let $\bA = \<A, \dots\> \in \sV$. 

  For a fixed $i\in \{0,1\}$, $d$ is a \defin{local difference term for $(A, i)$} iff
  $d$ is a local difference term for every triple
  $(a,b,i) \in A \times A \times \{i\}$.
  %% That is, for all $a, b \in A$,
  %% \begin{align}
  %%   \text{ if $i=0$, then } & \, a \Comr{\Cg^{\bA}(a,b)} d^{\bA}(a,b,b);
  %%   \label{eq:global-diff-triple}\\
  %%   \text{ if $i=1$, then } & \,
  %%   d^{\bA}(a,a,b) = b. 
  %% \end{align}

  \pause
  Let $\scA$ be a collection of algebras in $\sV$, and
  $\scS(\scA)$ all pairs $(A, i)$,
  where $A$ is a universe from $\scA$ and $i\in \{0,1\}$. That is
  \[
  \scS(\scA) = \{(A, i) \mid \<A, \dots\> \in \scA \text{ and } i \in \{0,1\}\}.
  \]
  \pause
  Given a sequence
  $S = ((A_0, \chi_0), (A_1, \chi_1), \dots,
  (A_{n-1},\chi_{n-1})) \in \scS(\scA)^n$,
  a term $d$ is called a \defin{\glocal difference term for $S$}
  if it is a \glocal difference term for every pair $(A_i, \chi_i)$ in $S$.
  
%%   In addition to these definitions, in the proof of the next theorem we use
%%   $|S|$ to denote the \emph{length of the sequence $S$}
%% (or, in case $S$ is a set, then $|S|$ denotes the cardinality of $S$, as usual).
\end{frame}


\begin{frame}[label=extensions]{}

\begin{theorem}
  \label{thm:glob-loc-diff-terms}
  Let $\scA$ be a collection of finite idempotent
  algebras in $\sV$ and let
  $S= ((A_0, \chi_0), (A_1, \chi_1), \dots, (A_{n-1}, \chi_{n-1}))\in \scS(\scA)^n$,
  for some $n\geq 2$.
  Then there is a term that is a \glocal difference term for $S$
  if and only if each 2-element subsequence $((A_i,\chi_i), (A_j,\chi_j))$ of $S$
  has a \glocal difference term.
\end{theorem}
%% We relegate the proof of Theorem\ref{thm:glob-loc-diff-terms} 
%% to the appendix (see Section\ref{sec:proof-thm:glob}), since the argument 
%% is nearly identical to the one used to prove Theorem\ref{thm:local-diff-terms}. 
\pause

\begin{corollary}
  \label{cor:glob-loc-diff-term}
  Let $\scA$ be a collection of finite idempotent
  algebras in $\sV$. %% that is closed under the taking of subalgebras.
  Then there is a term $d$ that interprets as a difference term operation
  for every algebra in $\scA$
  if and only if each pair $((A,i), (B,j)) \in \scS(\scA)^2$ has a \glocal
  difference term.
\end{corollary}

\end{frame}
%% Since the proof of Corollary\ref{cor:glob-loc-diff-term}
%% is easy and similar to the proof
%% of Corollary\ref{cor:loc-diff-term}, we consign it to 
%% appendix Section\ref{sec:proof-cor:glob}.

%% We now pause to fix some more notation.
%% If $\alpha \in \Con(\bA)$ and $\beta \in \Con(\bB)$, then we let
%% $\alpha \mytimes \beta$ denote the set of pairs $((a,b),(a',b'))\in (A\times B)^2$ satisfying
%% $a \mathrel{\alpha} a'$ and $b \mathrel{\beta} b'$.  The relation 
%% $\alpha \mytimes \beta$ is clearly a congruence of $\bA \times \bB$.

% \pagebreak[1]
\begin{frame}[label=extensions]{Extensions (continued)}

\begin{lemma}
  \label{lem:products}
  If $\bA$ and $\bB$ are finite, idempotent algebras of same type
  and if $d^{\bA \times \bB}$ is a difference term operation for $\bA\times \bB$,
  then $d^{\bA}$ (resp., $d^{\bB}$) is a difference term operation for 
  $\bA$  (resp., $\bB$).
\end{lemma}

\pause
\begin{question}
  Is the converse true? 
  If $d^{\bA}$ and $d^{\bB}$ are dt operations for 
  $\bA$ and $\bB$ (resp.), does it follow that $d^{\bA \times \bB}$
  is a dt operation for $\bA \times \bB$?
\end{question}
\end{frame}


\section{Progress on Question 2}

%% ====== BEGIN: F(2) stuff ==============================================================
\begin{frame}[label=f2lem]{}

  Some observations due to Kearnes (1998)...

\hfill  {\small ...unless they're wrong; then they're due to me.}
  \begin{lemma}
    \label{lem:equiv-cond-exist-1}
    Let $\bA$ be an algebra, $t(x,y,z)$ a ternary term.
    Assume $\bF = \bF_{\bbV(\bA)}(2)$ finite. 
    Consider the following statements:
    \begin{enumerate}[(A)]
    \item \label{item:6} $t^{\bA}$ is not a dt operation for $\bA$.
    \item \label{item:7} $\exists$ a 2-generated $\bB \leq \bA$
      such that $t^{\bB}$ is not a dt op for $\bB$.
    \item \label{item:8} $t^{\bF}$ is not a dt operation for $\bF$.
    \end{enumerate}
    Then (\ref{item:6}) $\Rightarrow$ (\ref{item:7})  $\Rightarrow$ (\ref{item:8}).
  \end{lemma}
  \note{
    {\bf Proof sketch}
  
    (\ref{item:6}) $\Rightarrow $ (\ref{item:7}):
    Suppose  $t^{\bA}$ fails to be a difference term operation for $\bA$ and let $a, b \in
    A$ witness this failure. Then either
    \begin{enumerate}
    \item[1.]\label{item:9} $d^{\bA}(a,a,b) \neq b$, or
    \item[2.]\label{item:10} $(d^{\bA}(a,b,b), a) \notin \com{\Cg^{\bA} (a, b)}$.
    \end{enumerate}

    \pause 
    Let $\bB = \Sg^{\bA} (a, b)$.  

    In case 1,
    $d^{\bB}(a,a,b) = d^{\bA}(a,a,b) \neq b$, so $d^{\bB}(x,y,z)$ is not a difference
    term operation for $\bB$.
  
    \pause
    In case 2,
    $(d^{\bB}(a,b,b), a) = (d^{\bA}(a,b,b), a)$ is not in $\com{\Cg^{\bA} (a, b)}$.
    So, assuming 
    \[\com{\Cg^{\bB} (a, b)} \subseteq \com{\Cg^{\bA} (a, b)},\]
    we have $(d^{\bB}(a,b,b), a) \notin \com{\Cg^{\bB} (a, b)}$, so
    $d^{\bB}(x,y,z)$ is not a difference term for $\bB$.

    Inclusion(\ref{eq:6}) holds because 
    $\CC{\beta}{\beta}{\delta}$ holds when
    $\beta := \Cg^{\bB} (a, b)$ and
    $\delta:=\com{\Cg^{\bA} (a, b)} \cap B^2$.

    Since there is a homomorphism from $\bF$ to $\bB$,
    $d^{\bF}(x,y,z)$ is not a difference term operation for $\bF$.
  }
\end{frame}

\begin{frame}[label=f2lem,shrink]{}
  
\begin{corollary}
  \label{thm:F}
  Let $\sV$ be a variety. Assume $\bF = \bF_{\sV}(2)$ finite.
  Then the following are equivalent:
  \begin{enumerate}[(i)]
  \item \label{item:1}
    $\sV$ has a difference term;
  \item \label{item:2}
    $\sansH \sansS \sansP (\bF)$ has a difference term;
  \item \label{item:3}
    $\bF$ has a difference term operation.
  \end{enumerate}
\end{corollary}

\pause
The implications
  (\ref{item:1}) $\Rightarrow$  (\ref{item:2}) $\Rightarrow$  (\ref{item:3}) are
  obvious. 

  \pause 
  (\ref{item:3}) $\Rightarrow$  (\ref{item:1}) is easy to prove by contraposition:

  Suppose $\sV$ has no dt and let $d(x,y,z)$ be a ternary term.

  Let $\bA\in \sV$ be such that $d^{\bA}(x,y,z)$ is not a dt operation. 

  By previous lemma % Lemma\ref{lem:equiv-cond-exist-1},
  $d^{\bF}(x,y,z)$ is not a dt operation for $\bF$.
  %% Since $d(x,y,z)$ is arbitrary, it follows that
  %% $\bF$ has no difference term operation whatsoever.
  %% , as we set out to prove.
\end{frame}

\begin{frame}[label=goal,shrink]{Goal}
  
  \begin{question}[2]
  Is there a polynomial-time algorithm that takes as input
  any finite idempotent algebra $\bA$ and decides whether
  $\bbV(\bA)$ has a difference term?
  \end{question}

  Let $\sV = \bbV(\bA)$ and $\bF = \bF_{\sV}(x,y)$.

  $\sV$ has a difference term iff
  $\bF$ has a difference term operation.
  
  $\bF$ is a subdirect product of
  $\bA_0 \times \bA_1 \times \cdots \times \bA_{n-1}$, where $n\leq |A|^2$ and
  each $\bA_i$ is a 2-generated subalgebra of $\bA$.

  Let $\scA = \{A_0, A_1, \dots, A_{n-1}\}$ and let $\scS(\scA)$ denote 
  all pairs $(A, i)$ such that $\bA = \<A, \dots\> \in \scA$ and $i\in \{0,1\}$.

  {\bf Claim:} We can check in polynomial time (in $|A|$)
  whether the product
  $\bA_0 \times \bA_1 \times \cdots \times \bA_{n-1}$ has a difference term operation.

\end{frame}

\begin{frame}[label=goal,shrink]{Progress on Question 2}

  %Corollary\ref{cor:glob-loc-diff-term} and Lemma\ref{lem:products-conv},
  It suffices to check each of the $n^2$ pairs in $\scS(\scA)^2$ has a \glocal
  dt.

  Fix $((A_i, \chi_i), (A_j, \chi_j)) \in  \scS(\scA)^2$.
  Let $\sU  = (A_i^2 + A_j^2)\times \{0,1\}$.

  We prove every sequence $S \in \sU^n$
  has a local dt by checking that every pair
  $\bigl( (\<(a, b), i\>, \chi), (\<(a', b'), i'\>, \chi')\bigr) \in \sU^2$
  has a local dt.

  To check whether
  $\bigl( (\<(a, b), i\>, \chi), (\<(a', b'), i'\>, \chi')\bigr)$
  has a local dt requires at most
  a polynomial in $|A_i||A_j|\leq |A|^2$ many steps.

  There are $4|A_i|^2|A_j|^2 \leq 4|A|^4$ pairs in $\sU^2$, 
  so it takes a polynomial %% (in $|A|$)
  number of steps to test whether $((A_i, \chi_i), (A_j, \chi_j))$ has a \glocal dt.

  There are $n^2 \leq |A|^4$ such pairs to test, so the number of steps
  required to test if
  $\bA_0 \times \bA_1 \times \cdots \times \bA_{n-1}$ has a dt
  operation is bounded by a constant times a power of $|A|$.
\end{frame}


\begin{frame}[label=pau]{}
\begin{center}
\bigskip\bigskip
\includegraphics[scale=.4]{gob2}
\end{center}
\end{frame}

\begin{frame}[label=pau]{}
\begin{center}

Let's Quit for the Day!

\bigskip\bigskip
\includegraphics[scale=.4]{drinks}
\end{center}
\end{frame}
%% ====== END: F(2) stuff ==============================================================

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
